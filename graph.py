import matplotlib.pyplot as plt

def plot_all_graphs():
    data = {
        "Алгоритм Монте-Карло": {
            "x_points": [1, 2, 3, 4, 5, 6, 7, 8],
            "y_values": [0.03, 0.007, 0.09, 0.7, 7, 70.5, 715.0, 7200.0]
        },
        "Ряд Лейбница": {
            "x_points": [1, 5, 10, 15, 20, 25, 30],
            "y_values": [0.0, 0.0041, 0.05, 0.4, 3.9, 39.0, 450.0]
        },
        "Алгоритм Бейли-Боруэйна-Плаффа (BBP)": {
            "x_points": list(range(1, 33)),
            "y_values": [
                3.337860107421875e-05, 0.0016021728515625, 0.004813671112060547, 0.011214256286621094,
                0.023614883422851562, 0.02536606788635254, 0.037168264389038086, 0.04145312309265137,
                0.0680379867553711, 0.06390595436096191, 0.0771784782409668, 0.08441901206970215,
                0.09449219703674316, 0.10534310340881348, 0.13881921768188477, 0.12701201438903809,
                0.1403822898864746, 0.15714120864868164, 0.16830778121948242, 0.18090605735778809,
                0.1972646713256836, 0.21066641807556152, 0.22563552856445312, 0.24066400527954102,
                0.25446534156799316, 0.2716691493988037, 0.2869703769683838, 0.31116271018981934,
                0.3150014877319336, 0.33655476570129395, 0.3543374538421631, 0.36536145210266113
            ]
        },
        "Алгоритм Чудновского": {
            "x_points": list(range(1, 33)),
            "y_values": [
                0.0009546279907226562, 0.0056188106536865234, 0.011122703552246094, 0.017966270446777344,
                0.0276486873626709, 0.027964115142822266, 0.034226417541503906, 0.03936767578125,
                0.044356346130371094, 0.05279827117919922, 0.059963226318359375, 0.061136722564697266,
                0.06822609901428223, 0.07466244697570801, 0.08160209655761719, 0.08361196517944336,
                0.09658598899841309, 0.09436225891113281, 0.11058235168457031, 0.12425088882446289,
                0.12633538246154785, 0.13007283210754395, 0.13203978538513184, 0.140183687210083,
                0.14906716346740723, 0.15706562995910645, 0.1576230525970459, 0.1615135669708252,
                0.16736197471618652, 0.1815032958984375, 0.20769119262695312, 0.18307924270629883
            ]
        },
        "Метод Архимеда": {
            "x_points": [2, 3, 4, 5, 6, 8, 10, 12, 14, 15, 17, 18, 19],
            "y_values": [
                1.18307924270629883, 2.46275823474949283, 6.32471976336078912, 16.40521284313748254,
                33.05881731922903871, 69.29471211182738307, 211.09296083546569762, 722.05848982638191949,
                2263.93587102925617436, 4372.13218393259688452, 8617.49377694713375756,
                17992.43048513184719873, 36623.71631453842904884
            ]
        }
    }

    plt.figure(figsize=(12, 8))
    for name, values in data.items():
        plt.plot(values["x_points"], values["y_values"], marker='o', linestyle='-', label=name)

    plt.yscale('log')
    plt.xlabel('Количество знаков точности π', fontsize=12)
    plt.ylabel('Время вычисления (с)', fontsize=12)
    plt.title('Сравнение алгоритмов вычисления числа Пи', fontsize=14)
    plt.grid(True, which='both', linestyle='--', linewidth=0.5)
    plt.legend(fontsize=10)
    plt.tight_layout()

    plt.savefig("graph/all_algorithms_pi.png")
    plt.close()

plot_all_graphs()
